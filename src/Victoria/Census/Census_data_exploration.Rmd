---
title: "Census Analysis"
author: "VH"
date: "6/25/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
install.packages(tidyverse)
library(tidyverse)
library(janitor) #Also needs library(snakecase) as dependencies
library(viridis)
library(purrr)
library(reshape2)
library(ggplot2)

Census.df <- read_csv("./data/working/ACS_joined_estimates/2019_06_24_acs_all_geography_tidy.csv") %>%
  janitor::clean_names() 

supervisor_data <-  Census.df[Census.df$id_type == 'supervisor_district',]



#subset the income variables of interest for the supervisor district
try_sub1 <- subset(supervisor_data, variable == 'income_under50_est'| variable =='income_50to100_est' | variable =='income_100to150_est'| variable == 'income_150to200_est' |
         variable == 'income_over200_est')

#Changing the ordering for the x-axis
try_sub1$variable <- factor(try_sub1$variable, levels = c('income_under50_est','income_50to100_est','income_100to150_est','income_150to200_est','income_over200_est'))

ggplot(try_sub1, aes(x = variable, y = value)) + geom_line(aes(color = id, group = id))



#Supervisor district commute time

try_supervisor_commute <- subset(supervisor_data, variable == 'min_under30_est'| variable =='min_30to60_est' | variable =='min_60to90_est'| variable == 'min_over90_est')

try_supervisor_commute$variable <- factor(try_supervisor_commute$variable, levels = c('min_under30_est','min_30to60_est','min_60to90_est','min_over90_est'))

ggplot(try_supervisor_commute, aes(x = variable, y = value)) + geom_line(aes(color = id, group = id))









```


